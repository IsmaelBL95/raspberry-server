# Activar compresión Gzip
gzip on;

# Nivel de compresión (1=rápido, 9=mejor compresión, más CPU)
gzip_comp_level 6;

# No comprimir respuestas pequeñas (< 1KB)
gzip_min_length 1024;

# Qué comprimir: solo texto y formatos útiles
gzip_types
    text/plain
    text/css
    text/javascript
    application/javascript
    application/json
    application/xml
    application/rss+xml
    application/atom+xml
    application/vnd.ms-fontobject
    font/ttf
    font/otf
    font/woff
    font/woff2
    image/svg+xml;

# Comprimir aunque sea tráfico hacia proxies/caches
gzip_proxied any;

# Asegurar que navegadores viejos reciban cabecera correcta
gzip_vary on;